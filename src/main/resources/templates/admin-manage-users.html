<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/commons::head"></head>

<body>
<!-- Topbar Start -->
<div th:replace="fragments/commons::topbar"></div>
<!-- Topbar End -->

<!-- Navbar Start -->
<div th:replace="fragments/commons::nav"></div>
<!-- Navbar End -->




<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Username</th>
                <th scope="col">First name</th>
                <th scope="col">Last name</th>
                <th scope="col">Admin</th>
                <th scope="col">Mentor</th>
                <th scope="col">Controls</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user:${allUsers}" th:object="${user}">
                <th scope="row" th:text="*{id}"></th>
                <td><span th:text="*{username}"></span></td>
                <td><span  th:text="*{firstName}"></span></td>
                <td><span  th:text="*{lastName}"></span></td>
                <td th:if="*{isAdmin}"><i class="fa fa-check text-primary mr-3"></i><!--<span>V</span>--></td>
                <td th:th:unless="*{isAdmin}"><span>-</span></td>
                <td th:if="*{isMentor}"><i class="fa fa-check text-primary mr-3"></i><!--<span>V</span>--></td>
                <td th:unless="*{isMentor}"><span>-</span></td>
                <td th:if="*{isMentor} and !*{isAdmin}" class="col-md-2">
                     <form th:action="@{/admin/manage-users/add-admin(username=*{username})}" th:method="PATCH">
                         <button class="small-btn" type="submit">Make admin</button>
                     </form>
                </td>
                <td th:if="*{isAdmin}"  class="col-md-2">
                     <form th:action="@{/admin/manage-users/remove-admin(username=*{username})}" th:method="PATCH">
                         <button class="small-btn-remove" type="submit">Remove admin</button>
                     </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-2"></div>
</div>

<!-- Footer Start -->
<footer th:replace="fragments/commons::footer"></footer>
<!-- Footer End -->


<!-- Back to Top -->
<a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>


<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
<script src="lib/easing/easing.min.js"></script>
<script src="lib/owlcarousel/owl.carousel.min.js"></script>

<!-- Contact Javascript File -->
<script src="mail/jqBootstrapValidation.min.js"></script>
<script src="mail/contact.js"></script>

<!-- Template Javascript -->
<script src="js/main.js"></script>
</body>

</html>